{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\HotelProject\\\\Hotel-react\\\\src\\\\reply\\\\ReplyUpdate.js\",\n  _s = $RefreshSig$();\nimport { Button, Container, FormControl, Table } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { FaStar } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet ReplyUpdate = () => {\n  _s();\n  var _location$state;\n  let [inputs, setInputs] = useState({\n    id: '',\n    hotelId: '',\n    customerId: '',\n    score: '',\n    title: '',\n    content: ''\n  });\n  let params = useParams();\n  let id = params.id;\n  let location = useLocation();\n  let userInfo = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.userInfo) || {\n    id: null\n  };\n  let navigate = useNavigate();\n  let moveToNext = () => {\n    let hotelId = parseInt(inputs.hotelId);\n    navigate('/reply/replyList/' + hotelId, {\n      state: {\n        userInfo: userInfo\n      }\n    });\n  };\n  let onSubmit = async e => {\n    e.preventDefault();\n    try {\n      let response = await axios.post('http://localhost:8080/reply/update', inputs, {\n        withCredentials: true\n      });\n      console.log(\"Response data: \", response.data);\n      if (response.status === 200) {\n        moveToNext();\n      }\n    } catch (error) {\n      console.error(\"Error reply: \", error);\n    }\n  };\n  let ARRAY = [0, 1, 2, 3, 4];\n  let [score, setScore] = useState([false, false, false, false, false]);\n  let starScore = index => {\n    let newScore = ARRAY.map((_, i) => i <= index);\n    setScore(newScore);\n    setInputs({\n      ...inputs,\n      score: index + 1\n    });\n  };\n  let onChange = e => {\n    let {\n      name,\n      value\n    } = e.target;\n    setInputs(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  useEffect(() => {\n    let getUpdate = async () => {\n      let response = await axios.get('http://localhost:8080/reply/selectOne/' + id, {\n        withCredentials: true\n      });\n      if (response.status === 200) {\n        let replyData = response.data.replyOne;\n        setInputs(prev => ({\n          ...prev,\n          id: replyData.id,\n          hotelId: parseInt(replyData.hotelId),\n          customerId: replyData.customerId,\n          score: replyData.score,\n          title: replyData.title,\n          content: replyData.content\n        }));\n        setScore(ARRAY.map((_, i) => i < replyData.score));\n      }\n    };\n    getUpdate();\n  }, [id]);\n  let noneBullet = {\n    listStyleType: 'none',\n    padding: 0,\n    margin: 0\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-3\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"[\\uB9AC\\uBDF0 \\uC218\\uC815\\uD558\\uAE30]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\uD638\\uD154\\uC740 \\uB9CC\\uC871\\uD558\\uC168\\uB098\\uC694?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          style: noneBullet,\n          children: ARRAY.map((el, index) => /*#__PURE__*/_jsxDEV(FaStar, {\n            size: \"24\",\n            onClick: () => starScore(index),\n            color: score[index] ? \"#ffc107\" : \"#e4e5e9\",\n            style: {\n              cursor: 'pointer'\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          style: noneBullet,\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            type: 'text',\n            name: 'title',\n            value: inputs.title,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\uB0B4\\uC6A9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          style: noneBullet,\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: 'content',\n            className: 'form-control',\n            value: inputs.content,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: 'submit',\n          style: {\n            margin: '15px 0'\n          },\n          children: \"\\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n};\n_s(ReplyUpdate, \"AOKHO5ZYyTEnaFTQa+MNO7FWFPA=\", false, function () {\n  return [useParams, useLocation, useNavigate];\n});\n_c = ReplyUpdate;\nexport default ReplyUpdate;\nvar _c;\n$RefreshReg$(_c, \"ReplyUpdate\");","map":{"version":3,"names":["Button","Container","FormControl","Table","useEffect","useState","FaStar","axios","useLocation","useNavigate","useParams","jsxDEV","_jsxDEV","ReplyUpdate","_s","_location$state","inputs","setInputs","id","hotelId","customerId","score","title","content","params","location","userInfo","state","navigate","moveToNext","parseInt","onSubmit","e","preventDefault","response","post","withCredentials","console","log","data","status","error","ARRAY","setScore","starScore","index","newScore","map","_","i","onChange","name","value","target","prev","getUpdate","get","replyData","replyOne","noneBullet","listStyleType","padding","margin","className","children","style","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","el","size","onClick","color","cursor","type","_c","$RefreshReg$"],"sources":["C:/Users/user/OneDrive/바탕 화면/HotelProject/Hotel-react/src/reply/ReplyUpdate.js"],"sourcesContent":["import {Button, Container, FormControl, Table} from \"react-bootstrap\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {FaStar} from \"react-icons/fa\";\r\nimport axios from \"axios\";\r\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\r\n\r\nlet ReplyUpdate = () => {\r\n    let [inputs, setInputs] = useState({\r\n        id: '',\r\n        hotelId: '',\r\n        customerId: '',\r\n        score: '',\r\n        title: '',\r\n        content: ''\r\n    })\r\n    let params = useParams()\r\n    let id = params.id\r\n\r\n    let location = useLocation()\r\n    let userInfo = location.state?.userInfo || {id: null}\r\n    let navigate = useNavigate()\r\n\r\n    let moveToNext = () => {\r\n        let hotelId = parseInt(inputs.hotelId)\r\n        navigate('/reply/replyList/' + hotelId, {state: {userInfo: userInfo}})\r\n    }\r\n\r\n    let onSubmit = async (e) => {\r\n        e.preventDefault()\r\n        try {\r\n            let response = await axios.post('http://localhost:8080/reply/update', inputs, {\r\n                withCredentials: true\r\n            })\r\n            console.log(\"Response data: \", response.data)\r\n            if (response.status === 200) {\r\n                moveToNext()\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error reply: \", error)\r\n        }\r\n    }\r\n\r\n    let ARRAY = [0, 1, 2, 3, 4];\r\n    let [score, setScore] = useState([false, false, false, false, false])\r\n    let starScore = (index) => {\r\n        let newScore = ARRAY.map((_, i) => i <= index);\r\n        setScore(newScore);\r\n        setInputs({\r\n            ...inputs,\r\n            score: index + 1\r\n        })\r\n    }\r\n\r\n    let onChange = (e) => {\r\n        let {name, value} = e.target\r\n        setInputs(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }))\r\n    }\r\n    useEffect(() => {\r\n        let getUpdate = async () => {\r\n            let response = await axios.get('http://localhost:8080/reply/selectOne/' + id, {\r\n                withCredentials: true\r\n            })\r\n            if (response.status === 200) {\r\n                let replyData = response.data.replyOne\r\n                setInputs(prev => ({\r\n                    ...prev,\r\n                    id: replyData.id,\r\n                    hotelId: parseInt(replyData.hotelId),\r\n                    customerId: replyData.customerId,\r\n                    score: replyData.score,\r\n                    title: replyData.title,\r\n                    content: replyData.content\r\n                }))\r\n                setScore(ARRAY.map((_, i) => i < replyData.score))\r\n            }\r\n        }\r\n        getUpdate()\r\n    }, [id]);\r\n\r\n    let noneBullet = {\r\n        listStyleType: 'none',\r\n        padding: 0,\r\n        margin: 0\r\n    }\r\n\r\n    return (\r\n        <Container className={\"mt-3\"}>\r\n            <form onSubmit={onSubmit}>\r\n                <ul>\r\n                    <div style={{fontWeight:'bold'}}>[리뷰 수정하기]</div>\r\n                    <li>호텔은 만족하셨나요?</li>\r\n                    <li style={noneBullet}>\r\n                        {ARRAY.map((el, index) => (\r\n                            <FaStar key={index} size=\"24\"\r\n                                    onClick={() => starScore(index)}\r\n                                    color={score[index] ? \"#ffc107\" : \"#e4e5e9\"}\r\n                                    style={{cursor: 'pointer'}}/>\r\n                        ))}\r\n                    </li>\r\n                    <li>제목</li>\r\n                    <li style={noneBullet}>\r\n                        <FormControl type={'text'} name={'title'} value={inputs.title} onChange={onChange}/>\r\n                    </li>\r\n                    <li>내용</li>\r\n                    <li style={noneBullet}>\r\n                    <textarea name={'content'} className={'form-control'} value={inputs.content}\r\n                              onChange={onChange}></textarea>\r\n                    </li>\r\n                    <Button type={'submit'} style={{margin: '15px 0'}}>수정</Button>\r\n                </ul>\r\n            </form>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ReplyUpdate"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}